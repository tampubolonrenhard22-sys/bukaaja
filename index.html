<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untuk Fenesha Sayang</title>
    <style>
        :root {
            --heart-red: #e94560;
            --heart-blue: #4560e9;
            --mystic-purple: #6a0572;
            --back-gray: #666;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            background-image: url('https://raw.githubusercontent.com/tampubolonrenhard22-sys/bukaaja/refs/heads/main/WhatsApp%20Image%202026-01-17%20at%2011.05.29.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            display: flex;
            justify-content: center;
            align-items: flex-start; 
            padding-top: 5vh;
            min-height: 100vh;
            color: #000;
            position: relative;
            overflow: hidden;
        }

        /* --- GELEMBUNG LATAR BELAKANG --- */
        .bubbles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .bg-bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.25);
            border-radius: 50%;
            box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.5);
            opacity: 0;
        }

        @keyframes moveAnywhere {
            0% { transform: translate(var(--startX), var(--startY)) scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translate(var(--endX), var(--endY)) scale(1.2); opacity: 0; }
        }

        /* --- KONTEN UTAMA --- */
        .container {
            width: 85%;
            max-width: 450px;
            background: rgba(255, 255, 255, 0.45);
            padding: 25px 30px;
            text-align: center;
            position: relative;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        h3, p, .bakso-icon, .cell, .pesan-cinta, #winCount {
            font-weight: 900;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
        }

        /* STYLE GAMBAR BULAT & TRANSPARAN */
        .love-gif-icon, .pentol-icon {
            width: 130px;
            height: 130px;
            margin: -15px auto 20px auto; 
            display: block;
            border-radius: 50%;
            object-fit: cover;
            mix-blend-mode: multiply;
            animation: pentolBounce 2s infinite ease-in-out;
        }

        @keyframes pentolBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        section { 
            display: none; 
            animation: bubbleIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
        }
        section.active { display: block; }

        @keyframes bubbleIn { 
            0% { opacity: 0; transform: scale(0.3); } 
            60% { transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); } 
        }

        /* --- TOMBOL-TOMBOL --- */
        .btn-open, .wa-btn { 
            background: var(--heart-red); color: white; border: none; 
            padding: 12px 30px; border-radius: 35px; cursor: pointer; 
            font-weight: bold; font-size: 1.1rem;
            width: 100%;
            margin-top: 10px;
        }
        .wa-btn { background: #25d366; }

        .btn-mystery {
            background: var(--mystic-purple); color: white; border: none;
            padding: 10px 20px; border-radius: 35px; cursor: pointer;
            font-weight: bold; font-size: 0.9rem;
            margin-top: 15px; width: 100%;
        }

        .btn-back {
            background: transparent;
            color: var(--back-gray);
            border: 1px solid var(--back-gray);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 20px;
            display: inline-block;
            font-weight: bold;
        }

        .bakso-icon { font-size: 100px; cursor: pointer; }
        
        input, textarea { 
            width: 100%; box-sizing: border-box; padding: 15px; border: 2px solid rgba(255, 255, 255, 0.8); 
            border-radius: 15px; margin: 15px 0; outline: none;
            background: rgba(255, 255, 255, 0.7);
            color: #000; font-weight: bold;
        }

        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 25px auto; width: 100%; max-width: 280px; }
        .cell { aspect-ratio: 1/1; background: rgba(255, 255, 255, 0.3); display: flex; justify-content: center; align-items: center; font-size: 35px; border-radius: 15px; cursor: pointer; border: 2px solid rgba(255, 255, 255, 0.8); }

        .pesan-cinta { 
            text-align: justify; font-size: 1rem; line-height: 1.7; height: 300px; 
            max-height: 40vh; overflow-y: auto; padding-right: 10px; 
            background: rgba(255, 255, 255, 0.1); border-radius: 15px; 
            font-weight: 600; white-space: pre-wrap;
        }

        video { width: 100%; border-radius: 15px; margin-top: 10px; }
    </style>
</head>
<body>

    <audio id="mySong" src="https://raw.githubusercontent.com/tampubolonrenhard22-sys/bukaaja/3d357eb14cdfe2b8e03a2a9c4d2da716ae344571/WhatsApp%20Audio%202026-01-17%20at%2018.35.30.mpeg" loop></audio>

    <div class="bubbles-container" id="bubblesContainer"></div>

    <div class="container">
        <section id="step1" class="active">
            <div class="bakso-icon" onclick="nextStep(2)">ü•£</div>
            <p>Bakso?...</p>
            <button class="btn-open" onclick="nextStep(2)">OPEN</button>
            <br>
            <button class="btn-back" onclick="location.reload();">‚Üê Kembali (Reset)</button>
        </section>

        <section id="step2">
            <img src="https://raw.githubusercontent.com/tampubolonrenhard22-sys/bukaaja/ca83e52e0e2208030cd13f9138406f4295e7be71/buatlove.gif" class="love-gif-icon">
            <h3>Sekarang hari apa?</h3>
            <input type="text" id="jawabanHari" placeholder="Jawab disini sayangku...">
            <button class="btn-open" onclick="cekHari()">ENTER</button>
            <br>
            <button class="btn-back" onclick="nextStep(1)">‚Üê Kembali</button>
        </section>

        <section id="step3">
            <img src="https://raw.githubusercontent.com/tampubolonrenhard22-sys/bukaaja/ca83e52e0e2208030cd13f9138406f4295e7be71/mainboneka.gif" class="pentol-icon">
            <div class="grid" id="board">
                <div class="cell" onclick="makeMove(0)"></div>
                <div class="cell" onclick="makeMove(1)"></div>
                <div class="cell" onclick="makeMove(2)"></div>
                <div class="cell" onclick="makeMove(3)"></div>
                <div class="cell" onclick="makeMove(4)"></div>
                <div class="cell" onclick="makeMove(5)"></div>
                <div class="cell" onclick="makeMove(6)"></div>
                <div class="cell" onclick="makeMove(7)"></div>
                <div class="cell" onclick="makeMove(8)"></div>
            </div>
            <button class="btn-back" onclick="nextStep(2)">‚Üê Kembali</button>
        </section>

        <section id="step4">
            <img src="https://raw.githubusercontent.com/tampubolonrenhard22-sys/bukaaja/ca83e52e0e2208030cd13f9138406f4295e7be71/buatlove.gif" class="love-gif-icon">
            <h3>Untuk Fenesha Sayang.. ‚ù§Ô∏è</h3>
            <div class="pesan-cinta" id="typedText"></div>
            <button class="btn-open" onclick="nextStep(5)">Lanjut ‚ù§Ô∏è</button>
            <br>
            <button class="btn-back" onclick="nextStep(3)">‚Üê Kembali</button>
        </section>

        <section id="step5">
            <img src="https://raw.githubusercontent.com/tampubolonrenhard22-sys/bukaaja/ca83e52e0e2208030cd13f9138406f4295e7be71/love.gif" class="love-gif-icon">
            <h3>Kamu mau apa sayangku?...</h3>
            <textarea id="pesanBalasan" placeholder="Ketik di sini ya sayang..."></textarea>
            <button class="wa-btn" onclick="sendWA()">SEND TO RENHARD</button>
            <button class="btn-mystery" onclick="nextStep(6)"> MISTERIUS ü§´</button>
            <br>
            <button class="btn-back" onclick="nextStep(4)">‚Üê Kembali</button>
        </section>

        <section id="step6">
            <video id="finalVideo" controls>
                <source src="https://raw.githubusercontent.com/tampubolonrenhard22-sys/bukaaja/6570339cd346ea6e30800e294932e9b4034b0848/WhatsApp%20Video%202026-01-17%20at%2018.02.31.mp4" type="video/mp4">
            </video>
            <br>
            <button class="btn-back" onclick="backFromVideo(5)">‚Üê Kembali</button>
        </section>
    </div>

    <script>
        const fullText = "hai sayangku......bunga boleh layu, hari boleh berlalu, tapi cintaku pada mu itu tidak akan berlalu sayangku....cintakuuuu, aku minta maaf sayang atas kesalahan aku yang aku perbuat sayang, yang buat kamu kesal sayang, aku adalah cowo biasa yang selalu melakukan kesalahan, tapi di balik itu...aku juga berusaha untuk menjadi yang lebih baik sayangku, aku senang dapatin hati kamu sayang, aku juga perlu bimbingan dari kamu sayang, bukan hanya kamu sayang, saling bergantungan kita berdua itu lebih bagus sayang, ceramahi aku juga jika aku melakukan kesalahan sayang, kamu tau piring kotor sayang, jika piring itu kotor jangan la dibuang tetapi bersihkan la dia agar kembali cantikk sayang, aku harap kita bisa mempertahankan hubungan ini dengan memperbaiki setiap kesalahan kita ya sayang ‚ù§Ô∏è. Aku takut sekali kehilangan kamu sayang, jangan pernhah tinggalin aku ya sayangku ‚ù§Ô∏è...cintakuuuuu ‚ù§Ô∏è...bidadarikuuuuu yang aku sayang. Love you Fenesha ‚ù§Ô∏è";
        
        let charIndex = 0;
        let isTypingStarted = false;

        function typeWriter() {
            if (charIndex < fullText.length) {
                const targetBox = document.getElementById("typedText");
                targetBox.innerHTML += fullText.charAt(charIndex);
                charIndex++;
                targetBox.scrollTop = targetBox.scrollHeight;
                setTimeout(typeWriter, 50);
            }
        }

        function nextStep(step) {
            var audio = document.getElementById('mySong');
            
            if(step === 2) {
                audio.play().catch(e => console.log("Autoplay blocked", e));
            }
            if(step === 4 && !isTypingStarted) {
                isTypingStarted = true;
                setTimeout(typeWriter, 800);
            }
            if(step === 6) {
                var video = document.getElementById('finalVideo');
                video.play();
                audio.pause();
            }

            document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
            document.getElementById('step' + step).classList.add('active');
        }

        function backFromVideo(step) {
            var video = document.getElementById('finalVideo');
            var audio = document.getElementById('mySong');
            video.pause();
            audio.play();
            nextStep(step);
        }

        function cekHari() {
            let jawab = document.getElementById('jawabanHari').value;
            if(jawab.trim() !== "") { nextStep(3); }
            else { alert("Isi dulu ya sayang.."); }
        }

        let wins = 0;
        let board = ["", "", "", "", "", "", "", "", ""];
        const human = "‚ù§Ô∏è";
        const ai = "üíô";

        function makeMove(idx) {
            if(board[idx] === "") {
                board[idx] = human;
                render();
                if(checkWin(human)) {
                    wins++;
                    resetBoard();
                    if(wins >= 2) nextStep(4);
                } else if (board.every(cell => cell !== "")) {
                    setTimeout(() => { alert("Seri! Ulangi lagi ya sayang ‚ù§Ô∏è"); resetBoard(); }, 200);
                } else {
                    setTimeout(aiMove, 400);
                }
            }
        }

        function aiMove() {
            let empty = board.map((v, i) => v === "" ? i : null).filter(v => v !== null);
            if(empty.length > 0) {
                let move = empty[Math.floor(Math.random() * empty.length)];
                board[move] = ai;
                render();
                if(checkWin(ai)) {
                    setTimeout(() => { alert("Yah aku menang! Coba lagi ya sayang.."); resetBoard(); }, 200);
                } else if (board.every(cell => cell !== "")) {
                    setTimeout(() => { alert("Seri! Ulangi lagi ya sayang ‚ù§Ô∏è"); resetBoard(); }, 200);
                }
            }
        }

        function render() {
            const cells = document.querySelectorAll('.cell');
            board.forEach((val, i) => { cells[i].innerText = val; });
        }

        function resetBoard() { board = ["", "", "", "", "", "", "", "", ""]; render(); }

        function checkWin(p) {
            const win = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            return win.some(s => s.every(i => board[i] === p));
        }

        function sendWA() {
            let msg = document.getElementById('pesanBalasan').value;
            let url = "https://api.whatsapp.com/send?phone=6281371414093&text=" + encodeURIComponent("Jawaban Fenesha: " + msg);
            window.open(url, '_blank');
        }

        function createBubbles() {
            const container = document.getElementById('bubblesContainer');
            for (let i = 0; i < 15; i++) {
                const bubble = document.createElement('div');
                bubble.className = 'bg-bubble';
                const size = Math.random() * 40 + 20 + 'px';
                bubble.style.width = size; bubble.style.height = size;
                bubble.style.setProperty('--startX', Math.random() * 100 + 'vw');
                bubble.style.setProperty('--startY', Math.random() * 100 + 'vh');
                bubble.style.setProperty('--endX', Math.random() * 100 + 'vw');
                bubble.style.setProperty('--endY', Math.random() * 100 + 'vh');
                bubble.style.animation = `moveAnywhere ${Math.random() * 10 + 10}s infinite linear`;
                container.appendChild(bubble);
            }
        }
        createBubbles();
    </script>
</body>
</html>
